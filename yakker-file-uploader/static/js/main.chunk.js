(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,n,t){e.exports=t(272)},123:function(e,n,t){},270:function(e,n,t){},272:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(7),i=t.n(r),l=(t(123),t(48)),s=t(49),c=t(52),u=t(50),d=t(53),f=(t(273),t(116)),m=(t(132),t(10)),p=function(){var e=0;return function(n){var t,a=(new Date).getTime().toString(32);for(t=0;t<5;t++)a+=Math.floor(65535*Math.random()).toString(32);return(n||"o_")+a+(e++).toString(32)}}(),g=function(e,n){n||(n=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},h=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(o)))).state={fileList:[],listType:"picture-card",home_url:g("home_url"),gform_upload_page_slug:g("gform_upload_page_slug"),form_id:g("form_id"),field_id:g("field_id"),gform_unique_id:g("gform_unique_id"),max_num_files:g("max_num_files")||100},t.handleCancel=function(){return t.setState({previewVisible:!1})},t.handleChange=function(e){var n=e.file,a=e.fileList;if(t.setState({fileList:a}),n&&!(a.length>0&&"uploading"===a[a.length-1].status)){var o=n.response;console.log("handleChange",o,a),o&&o.error&&(window.parent?(window.parent.postMessage("mc-upload-file-error|"+o.error.message,"*"),console.log("upload file failed",o.error)):console.log("upload file failed",o.error));var r=a.filter(function(e){return e.response&&e.response.data});window.parent&&(t.setState({fileList:r}),window.parent.postMessage("mc-upload-file-list|"+JSON.stringify(r.map(function(e){return e.response.data})),"*"))}},t.getUniqueFileName=function(e){var n=e.name.match(/\.([^.]+)$/),t="part";return n&&(t=n[1]),p()+"."+t},t.getUploadParams=function(e){console.log("file",e);var n=t.state,a=n.form_id,o=n.field_id,r=n.gform_unique_id;return{name:t.getUniqueFileName(e),form_id:a,field_id:o,gform_unique_id:r,original_filename:e.name}},t}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state,n=e.fileList,t=e.listType,a=e.home_url,r=e.gform_upload_page_slug,i=e.max_num_files,l=o.a.createElement("div",null,o.a.createElement(m.a,{type:"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement("div",{className:"clearfix"},o.a.createElement(f.a,{action:a+"?gf_page="+r,listType:t,fileList:n,headers:{Accept:"*/*"},data:this.getUploadParams,showUploadList:{showPreviewIcon:!1,showRemoveIcon:!0},onChange:this.handleChange},n.length>=i?null:l))}}]),n}(a.Component),_=(t(270),function(e){function n(){return Object(l.a)(this,n),Object(c.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(h,null))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,2,1]]]);
//# sourceMappingURL=main.chunk.js.map